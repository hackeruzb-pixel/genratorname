<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hacker Interface — Random Picker</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1: #05060a;
    --bg2: #070617;
    --neon1: #7b61ff;
    --neon2: #00e5ff;
    --accent: #ff5ec7;
    --muted: #9aa3b2;
    --glass: rgba(255,255,255,0.03);
    --card: rgba(6,8,15,0.64);
    --radius: 16px;
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,var(--bg1),var(--bg2)); color:#cbd5e1}

  /* Page center */
  .stage {
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    position:relative;
    overflow:hidden;
  }

  /* subtle background grid & noise */
  .grid {
    position: absolute; inset:0; background:
      linear-gradient(90deg, rgba(255,255,255,0.01) 1px, transparent 1px),
      linear-gradient(180deg, rgba(255,255,255,0.01) 1px, transparent 1px);
    background-size: 140px 140px, 140px 140px;
    opacity: .06;
    mix-blend-mode: overlay;
    pointer-events:none;
  }
  .noise { position:absolute; inset:0; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><filter id="n"><feTurbulence baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.06"/></svg>'); opacity: .14; mix-blend-mode:screen; pointer-events:none; }

  /* main ui card */
  .ui {
    width:100%;
    max-width:820px;
    border-radius:20px;
    padding:22px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 30px 90px rgba(0,0,0,0.6), inset 0 0 60px rgba(123,97,255,0.03);
    position:relative;
    overflow:hidden;
    z-index:2;
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:18px;
  }

  /* left/main */
  .main h1 {
    margin:0;
    font-size:20px;
    font-weight:800;
    color:var(--neon1);
    letter-spacing:0.4px;
    text-shadow: 0 6px 30px rgba(123,97,255,0.14);
  }
  .main p { margin:8px 0 14px; color:var(--muted); font-size:13px; }

  .display {
    height:170px;
    border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.18));
    border: 1px solid rgba(123,97,255,0.06);
    position:relative;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:8px;
  }

  /* scanlines */
  .scanlines::before{
    content:'';
    position:absolute; inset:0;
    background: linear-gradient( rgba(255,255,255,0.01), rgba(255,255,255,0.02) 50%, rgba(255,255,255,0.01) );
    background-size:100% 4px;
    mix-blend-mode: overlay;
    opacity:0.25;
    pointer-events:none;
  }

  /* hologram bands */
  .holo-band {
    position:absolute;
    inset: -30% -20%;
    background: radial-gradient(600px 300px at 10% 30%, rgba(123,97,255,0.06), transparent 12%),
                radial-gradient(500px 250px at 90% 70%, rgba(0,229,255,0.05), transparent 12%);
    filter: blur(36px);
    animation: holoMove 10s linear infinite;
    pointer-events:none;
    z-index:0;
  }
  @keyframes holoMove {
    0%{ transform: translateX(-8%) }
    50%{ transform: translateX(8%) }
    100%{ transform: translateX(-8%) }
  }

  /* name area: layered for glitch and hologram */
  #nameWrap { position:relative; z-index:3; display:inline-block; perspective:1200px; }
  .name{
    display:block;
    font-size:34px;
    font-weight:800;
    padding:10px 20px;
    border-radius:10px;
    background: linear-gradient(90deg, rgba(123,97,255,0.06), rgba(0,229,255,0.03));
    color: #e6eefc;
    border: 1px solid rgba(123,97,255,0.08);
    text-shadow: 0 8px 30px rgba(123,97,255,0.06);
    transform-origin:center;
    transition: transform .28s cubic-bezier(.2,.95,.25,1), filter .28s, opacity .28s;
    letter-spacing: .6px;
  }

  /* glitch layers */
  .glitchA, .glitchB {
    position:absolute; left:0; top:0; width:100%; height:100%;
    display:flex; align-items:center; justify-content:center;
    font-weight:800; font-size:34px; border-radius:10px;
    pointer-events:none; opacity:0;
  }
  .glitchA { color: rgba(255,94,199,0.85); transform: translate(6px,0) skewX(-6deg); mix-blend-mode:screen; }
  .glitchB { color: rgba(0,229,255,0.85); transform: translate(-6px,0) skewX(6deg); mix-blend-mode:screen; }

  /* small hint */
  .hint{ margin-top:10px; color:var(--muted); font-size:13px; }

  /* controls */
  .controls{ display:flex; gap:12px; margin-top:14px; align-items:center; }
  .btn{
    padding:12px 16px; border-radius:12px; border:none; cursor:pointer; font-weight:700; letter-spacing:.2px;
    display:inline-flex; align-items:center; justify-content:center; gap:10px; transition: transform .12s, box-shadow .12s;
    background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color:#e6eefc;
    border:1px solid rgba(255,255,255,0.03);
  }
  .btn-random{ min-width:160px; background: linear-gradient(90deg,var(--neon1),var(--neon2)); box-shadow: 0 16px 60px rgba(123,97,255,0.14);}
  .btn-reset{ min-width:120px; background: transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03); }

  .btn:active{ transform: translateY(2px) scale(.995); }

  /* right column small info */
  .side {
    padding:14px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(0,0,0,0.06));
    border:1px solid rgba(255,255,255,0.02);
    color:var(--muted);
    font-size:13px;
  }
  .side h3{ margin:0 0 8px; color:var(--neon2); font-weight:700; }

  /* confetti / sparks (simple) */
  .sparks { position:absolute; inset:0; pointer-events:none; z-index:1; overflow:hidden; }

  /* ========== ANIMATION CLASSES ========== */

  /* stage 1 - hyper flicker */
  .stage1 { animation: flickerStage .38s linear; filter: blur(1.6px) contrast(1.06); }
  @keyframes flickerStage{
    0%{ opacity:.65; transform: translateY(0) rotateY(0) scale(.98) }
    30%{ opacity:1; transform: translateY(-6px) rotateY(6deg) scale(1.02) }
    60%{ opacity:.95; transform: translateY(6px) rotateY(-6deg) scale(.99) }
    100%{ opacity:1; transform: translateY(0) rotateY(0) scale(1) }
  }

  /* stage 2 - hard glitch (reveal A/B) */
  .stage2 .glitchA, .stage2 .glitchB { animation: glitchFrames .28s steps(8) 1; opacity:1; }
  @keyframes glitchFrames{
    0%{ clip-path: inset(0 0 0 0); transform: translate(0,0) skewX(0deg); opacity:1; }
    20%{ clip-path: inset(12% 0 60% 0); transform: translate(-8px,2px) skewX(-8deg); }
    40%{ clip-path: inset(58% 0 12% 0); transform: translate(8px,-2px) skewX(8deg); }
    60%{ clip-path: inset(10% 0 40% 0); transform: translate(-6px,1px) skewX(-6deg); }
    80%{ clip-path: inset(20% 0 30% 0); transform: translate(6px,-1px) skewX(6deg); }
    100%{ clip-path: inset(0 0 0 0); transform: translate(0,0) skewX(0deg); opacity:1; }
  }

  /* stage 3 - holo reveal (deep) */
  .stage3 .name { animation: holoReveal .48s cubic-bezier(.2,.9,.25,1) forwards; filter: drop-shadow(0 18px 40px rgba(123,97,255,0.12)); }
  @keyframes holoReveal{
    0%{ transform: scale(.78) translateY(10px); opacity:.18; filter: blur(6px); text-shadow:none; }
    60%{ transform: scale(1.16) translateY(-6px); opacity:1; filter: blur(0); }
    100%{ transform: scale(1) translateY(0); text-shadow: 0 12px 40px rgba(123,97,255,0.12) }
  }

  /* final pulse */
  .finalPulse { animation: finalPulseAnim 900ms ease; }
  @keyframes finalPulseAnim{
    0%{ transform: scale(1); text-shadow: 0 0 0 rgba(123,97,255,0) }
    50%{ transform: scale(1.03); text-shadow: 0 22px 60px rgba(0,229,255,0.12) }
    100%{ transform: scale(1); text-shadow: 0 0 0 rgba(123,97,255,0) }
  }

  /* responsive */
  @media (max-width:980px){ .ui{ grid-template-columns: 1fr; } .side{ order:2 } .main{ order:1 } .display{ height:150px } }
  @media (max-width:520px){ .display{ height:120px } .name{ font-size:22px } }
</style>
</head>
<body>
  <div class="stage" role="application" aria-labelledby="uiTitle">
    <div class="grid" aria-hidden="true"></div>
    <div class="noise" aria-hidden="true"></div>

    <div class="ui" role="region" aria-label="Hacker random interface">
      <!-- LEFT -->
      <div class="main" style="padding:8px 6px;">
        <h1 id="uiTitle">⌁ Hacker Interface — Random Picker</h1>
        <p class="lead">Cyberpunk holo UI. Har bosganingizda bitta ism chiqadi — 22 ta ichida takrorlanmas. (spin → glitch → holo)</p>

        <div class="display scanlines" role="status" aria-live="polite" aria-atomic="true">
          <div class="holo-band" aria-hidden="true"></div>

          <div id="nameWrap">
            <div class="glitchA" id="glitchA">—</div>
            <div class="glitchB" id="glitchB">—</div>
            <div class="name" id="nameMain">—</div>
          </div>

          <div class="sparks" id="sparks" aria-hidden="true"></div>
        </div>

        <div class="hint" id="subLabel">Boshlash uchun "RANDOM" tugmasini bosing</div>

        <div class="controls" style="margin-top:12px;">
          <button class="btn btn-random" id="randomBtn" aria-controls="nameWrap">↻ RANDOM</button>
          <button class="btn btn-reset" id="resetBtn">↺ RESET</button>
        </div>

        <div style="height:8px"></div>
        <div style="color:var(--muted); font-weight:700;" id="status">0 / 22 tanlandi</div>
      </div>

      <!-- RIGHT small info -->
      <aside class="side" aria-hidden="false">
        <h3>Info</h3>
        <div style="margin-bottom:10px;">Takrorlanmas blok: <strong>22</strong>.</div>
        <div style="font-size:13px; color:var(--muted);">Reset bosilganda yangi blok yaratiladi va tanlanganlar "reset" qilinadi.</div>
      </aside>
    </div>

    <div class="confetti" id="confetti" aria-hidden="true"></div>
  </div>

<script>
/* ========== NAMES ========== */
const NAMES = [
  "Maxsetova Sevara","Ongarbaeva Gulbahor","Orazbaeva Gulsevar","Umirzakova Asemay",
  "Ko‘chkarbaeva Durdona","Chekmaryov Dmitriy","Madiyarova Asal","Kuandikov Xursand",
  "D.Jumaliyev Chingiz","Koptleuova Shaxnoza","Duzelov Jamshid","Alyanova Jasmina",
  "Rzamuratova Dinora","Buribaeva Gulxayo","Shamuratova Aygul","Genzhebaeva Zarina",
  "Ibragimova Moxinur","Jumagaliyev Islombek","Murtazaeva Sevinch","Saburbayev Ag'abek",
  "Kuralbaev Ajiniyaz","Usenov Sultanbek"
];

/* STATE */
const TOTAL = 22;
let names = [...NAMES];
let shuffled = [];
let index = 0;

/* DOM */
const nameMain = document.getElementById('nameMain');
const glitchA = document.getElementById('glitchA');
const glitchB = document.getElementById('glitchB');
const nameWrap = document.getElementById('nameWrap');
const randomBtn = document.getElementById('randomBtn');
const resetBtn = document.getElementById('resetBtn');
const statusEl = document.getElementById('status');
const confetti = document.getElementById('confetti');
const sparks = document.getElementById('sparks');
const subLabel = document.getElementById('subLabel');

/* util */
const wait = ms => new Promise(r => setTimeout(r, ms));
function shuffleArr(a){ return a.map(v=>({r:Math.random(),v})).sort((x,y)=>x.r-y.r).map(x=>x.v); }

/* init new block */
function newBlock(){
  shuffled = shuffleArr(names).slice(0, TOTAL);
  index = 0;
  statusEl.textContent = `${index} / ${TOTAL} tanlandi`;
  console.log('new block', shuffled);
}
newBlock();

/* tiny sparks effect */
function spawnSparks(short=8){
  sparks.innerHTML = '';
  for(let i=0;i<short;i++){
    const e = document.createElement('div');
    e.textContent = ['*','✦','✶','•'][Math.floor(Math.random()*4)];
    e.style.position='absolute';
    e.style.left = (20 + Math.random()*60) + '%';
    e.style.top = (40 + Math.random()*10) + '%';
    e.style.fontSize = (8 + Math.random()*18) + 'px';
    e.style.color = (Math.random()>0.5? '#7b61ff' : '#00e5ff');
    e.style.opacity = '0.0';
    e.style.transform = `translateY(0) scale(${0.6 + Math.random()*0.9})`;
    e.style.transition = `all ${520 + Math.random()*400}ms cubic-bezier(.2,.9,.25,1)`;
    sparks.appendChild(e);
    setTimeout(()=>{ e.style.top = (10 + Math.random()*60) + '%'; e.style.opacity=1; e.style.transform='translateY(-6px) scale(1)'; }, 20 + i*20);
    setTimeout(()=> e.remove(), 900 + Math.random()*800);
  }
}

/* confetti (small) */
function runConfetti(){
  confetti.innerHTML = '';
  const em = ['🎉','✨','✦','⚡'];
  for(let i=0;i<18;i++){
    const d = document.createElement('div');
    d.textContent = em[Math.floor(Math.random()*em.length)];
    d.style.position='absolute';
    d.style.left = (Math.random()*100)+'%';
    d.style.top = '-8%';
    d.style.fontSize = (10 + Math.random()*24)+'px';
    d.style.opacity = 0.95;
    d.style.transform = `rotate(${Math.random()*360}deg)`;
    d.style.transition = `top ${900 + Math.random()*1400}ms linear, transform ${900 + Math.random()*1400}ms linear, opacity 800ms linear`;
    confetti.appendChild(d);
    setTimeout(()=> { d.style.top = (80 + Math.random()*16) + '%'; d.style.transform = `rotate(${Math.random()*720}deg)`; }, 20);
    setTimeout(()=> d.remove(), 2600);
  }
}

/* triple-stage pick: flicker -> glitch -> holo reveal */
let animating=false;
async function triplePick(){
  if(animating) return;
  if(names.length < TOTAL){ alert(`Kamida ${TOTAL} ta ism kerak.`); return; }

  if(index === 0 || index >= TOTAL) newBlock();

  animating = true;
  randomBtn.disabled = true;
  randomBtn.style.opacity = 0.6;
  subLabel.textContent = 'Tanlanmoqda...';

  const final = shuffled[index++];
  statusEl.textContent = `${index} / ${TOTAL} tanlandi`;

  // STAGE 1: hyper flicker (fast random sampling)
  const spinDur = 620;
  const spinSpeed = 50;
  let spinI = setInterval(()=> {
    const r = shuffled[Math.floor(Math.random()*shuffled.length)];
    nameMain.textContent = r;
    glitchA.textContent = r;
    glitchB.textContent = r;
    nameWrap.classList.add('stage1');
    // micro-sparks
    if(Math.random()>0.85) spawnSparks(2);
  }, spinSpeed);

  await wait(spinDur);
  clearInterval(spinI);
  nameWrap.classList.remove('stage1');

  await wait(70);

  // STAGE 2: hard glitch (show colored offsets)
  glitchA.textContent = final;
  glitchB.textContent = final;
  nameWrap.classList.add('stage2');
  spawnSparks(10);
  await wait(280);
  nameWrap.classList.remove('stage2');

  // STAGE 3: holo reveal (deep zoom + pulse)
  nameMain.textContent = final;
  glitchA.textContent = final;
  glitchB.textContent = final;
  // trigger stage3 on wrapper to animate .name
  nameWrap.classList.add('stage3');
  // small repeated pulses
  nameMain.classList.add('finalPulse');
  await wait(520);
  nameWrap.classList.remove('stage3');
  nameMain.classList.remove('finalPulse');

  // confetti for drama
  runConfetti();

  // small finish spark
  spawnSparks(6);

  // update subLabel
  if(index >= TOTAL) subLabel.textContent = '22 ta tugadi — RESET bosing';
  else subLabel.textContent = 'Tayyor — yana bosing';

  animating = false;
  randomBtn.disabled = false;
  randomBtn.style.opacity = 1;
}

/* reset */
function doReset(){
  if(!confirm('Yangi blok boshlashni xohlaysizmi? (tanlanganlar bekor bo‘ladi)')) return;
  newBlock();
  nameMain.textContent = '—';
  glitchA.textContent = '—';
  glitchB.textContent = '—';
  confetti.innerHTML = '';
  sparks.innerHTML = '';
  subLabel.textContent = 'Boshlash uchun "RANDOM" ni bosing';
}

/* events */
randomBtn.addEventListener('click', ()=> triplePick());
resetBtn.addEventListener('click', doReset);

/* init */
nameMain.textContent = '—';
glitchA.textContent = '—';
glitchB.textContent = '—';

</script>
</body>
</html>
